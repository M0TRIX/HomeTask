version: v1.0
name: Swift
agent:
  machine:
    os_image: macos-xcode9.2
    type: e1-standard-2
blocks:
  - name: Tests
    task:
      jobs:
        - name: swift test
          commands:
            - checkout
            - 'xcodebuild clean build -workspace "HomeTask.xcworkspace" -scheme "HomeTask" -destination "platform=iOS Simulator,name=iPhone 12 Pro,OS=latest" CODE_SIGN_IDENTITY="" CODE_SIGNING_REQUIRED=NO ONLY_ACTIVE_ARCH=NO'
            - 'xcodebuild clean build test -workspace HomeTask.xcworkspace -scheme "HomeTaskTests" -destination "platform=iOS Simulator,name=iPhone 8 Pro,OS=11.2‚Äù CODE_SIGN_IDENTITY="" CODE_SIGNING_REQUIRED=NO ONLY_ACTIVE_ARCH=NO'''
